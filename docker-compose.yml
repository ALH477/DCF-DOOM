services:
  freedm:
    image: rcdailey/zandronum-server:official-latest
    restart: always
    # Remove network_mode: host  ← important, we want container network isolation now
    ports:
      - "10666:10666/udp"      # optional fallback direct port (see below)
      - "8888:8888/udp" 
    command:
      - -port
      - "8888"                 # ← Zandronum now listens on 8888 inside container
      - -iwad
      - /data/freedm.wad
      - +exec
      - /configs/global.cfg
      - +exec
      - /configs/freedm.cfg
    volumes:
      - ./data:/data:ro
      - ./configs:/configs:ro
    # Optional: network_mode: host still possible but not needed
